# Railway Configuration for Client Fulfillment App V2
# Staging environment deployment configuration

[build]
# Use Python 3.11 runtime
builder = "NIXPACKS"

[build.nixpacksPlan]
# Python version
nixPkgs = ["python311"]

[deploy]
# Health check configuration
healthcheckPath = "/health"
healthcheckTimeout = 60
startCommand = "python -m app.deploy && uvicorn app.main:app --host 0.0.0.0 --port $PORT"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

[deploy.env]
# Override for staging environment
ENVIRONMENT = "staging"
LOG_LEVEL = "INFO"
LOG_FORMAT = "json"
DEBUG = "false"
